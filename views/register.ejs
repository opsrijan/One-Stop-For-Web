<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register - OneStop for Web</title>
  <link rel="stylesheet" href="/styles.css">
  <style>
    .container { max-width: 600px; margin: 40px auto; padding: 20px; }
    form div { margin-bottom: 15px; }
    label { display: block; font-weight: bold; margin-bottom: 5px; }
    input, select, textarea { width: 100%; padding: 8px; box-sizing: border-box; }
    button { padding: 10px 20px; background-color: #007BFF; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #0056b3; }
    .error { color: red; }
  </style>
</head>
<body>
  <header>
    <h1>OneStop for Web</h1>
  </header>
  <div class="container">
    <h2>Register</h2>
    <% if (error) { %>
      <p class="error"><%= error %></p>
    <% } %>
    <form method="POST" action="/register">
      <div>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" required>
      </div>
      <div>
        <label for="roll">Roll Number:</label>
        <input type="text" name="roll" id="roll" required>
      </div>
      <div>
        <label for="password">Password:</label>
        <input type="password" name="password" id="password" required>
      </div>
      <div>
        <label for="department">Department:</label>
        <input type="text" name="department" id="department" required>
      </div>
      <div>
        <label for="semester">Semester:</label>
        <input type="text" name="semester" id="semester" required>
      </div>
      <!-- Minor selection: Optional. Pass an array "Minor" from the server containing available minor courses -->
      <div>
        <label for="minor">Minor (if any):</label>
        <select id="minor" name="minor">
          <option value="">None</option>
          <% if (typeof Minor !== 'undefined' && Minor.length) { %>
            <% Minor.forEach(function(course) { %>
              <option value="<%= course.course_code %>"><%= course.course_name %> (<%= course.course_code %>)</option>
            <% }); %>
          <% } %>
        </select>
      </div>
      <!-- HSS selection: Optional. Pass an array "HSS" from the server containing available HSS courses -->
      <div>
        <label for="HSS">HSS (if any):</label>
        <select id="HSS" name="HSS">
          <option value="">None</option>
          <% if (typeof HSS !== 'undefined' && HSS.length) { %>
            <% HSS.forEach(function(course) { %>
              <option value="<%= course.course_code %>"><%= course.course_name %> (<%= course.course_code %>)</option>
            <% }); %>
          <% } %>
        </select>
      </div>
      <button type="submit">Register</button>
    </form>
    <p>Already have an account? <a href="/login">Login here</a></p>
  </div>
  <footer>
    <p>&copy; <%= new Date().getFullYear() %> OneStop for Web</p>
  </footer>
</body>
</html>
